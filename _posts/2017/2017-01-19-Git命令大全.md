---
title: Git 命令大全
date: 2017-01-19
tags: Git
categories: Git
---

Git Command

<!-- more -->

### 创建仓库

- git init 创建 git 仓库

### 添加提交

- git add <file> 添加(从工作区到暂存区,可多次使用添加多个文件)
- git commit -m “description” 提交(从暂存区到本地仓库)

### 查看信息

- git status 查看仓库当前状态
- git diff <file> 查看添加前修改的内容
- git diff HEAD — <file> 查看工作区和版本库最新版本的区别
- git log 查看提交日志
- git log —pretty=oneline 查看提交日志(单行显示每一条日志)

### 版本回退

- git reset —hard HEAD^ 回滚到上个版本
- git reset —hard HEAD^^ 回滚到上上个版本
- git reset —hard HEAD~n 回滚到上 n 个版本
- git reset —hard <commit id> 回滚到指定提交 id 的版本

### 撤销修改

- rm <file> 删除工作区文件
- git checkout — <file> 撤销(丢弃)工作区的修改(让工作区和 HEAD 保持一致)
- git reset HEAD <file> 撤销暂存区的文件(个人理解为撤销 git add 命令)
- git rm <file> 从版本库中删除文件(会同时删除工作区文件,个人理解为 rm <file>命令 + git add <file>命令 )

### 远程仓库

- git remote add origin <SSH 或 HTTPS>关联远程仓库
- git push -u origin master 第一次推送 master 分支的所有内容
- git push origin master 推送 master 分支的所有内容(origin 为远程库)
- git pull —rebase origin master 拉取 master 分支的内容
- git pull 拉取关联的远程分支内容
- git branch —set-upstream branch-name origin/branch-name 设置本地分支和远程分支的链接关系
  ****************\*\*\*\*****************分割线****************\*\*\*\*****************
- git clone <SSH 或 HTTPS> 克隆远程仓库

### 分支管理

- git branch dev 创建一个 dev 分支
- git checkout dev 切换到 dev 分支
- git checkout -b dev 创建一个 dev 分支并切换到 dev 分支
- git checkout -b dev origin/dev 创建远程 origin 的 dev 分支到本地
- git branch 查看分支(列出所有分支,当前分支前有\*标记)
- git merge dev 合并指定分支到当前分支
- git merge —no-ff -m “desc” dev 合并 dev 分支到当前分支并禁用”fast forward"
- git branch -d dev 删除 dev 分支
- git branch -D dev 强行删除一个没有被合并过的 dev 分支
  ****************\*\*\*\*****************分割线****************\*\*\*\*****************
- git log —graph 查看分支的合并情况
- git log —graph —pretty=oneline 查看分支的合并情况(单行)
- git log —graph —pretty=oneline —abbrev-commit 查看分支的合并情况(单行短 id)

### 贮藏管理

- git stash 贮藏当前工作区的修改(可多次 stash)
- git stash list 查看贮藏列表
- git stash apply 恢复 stash 内容(不删除 stash 内容)
- git stash drop 删除 stash 内容
- git stash pop 恢复并删除 stash 内容

### 标签管理

- git tag <name> 给当前分支上最新的的 commitId 打上标签
- git tag 查看所有标签(按字母排序,不按时间)
- git tag <name> <commitId> 给对应的 commitId 打上标签
- git show <name> 查看标签信息
- git tag -a <name> -m “desc” <commitId> 创建带有说明的标签(-a 指定标签名,-m 指定说明文字)
- git tag -s <name> -m “desc” <commitId> 用 PGP 签名标签
- git tag -d <name> 删除标签
- git push origin :refs/tags/<name> 删除远程标签(需要先删除本地标签)
- git push origin <name> 推送标签到远程
- git push origin —tags 推送所有标签到远程

### 忽略文件

- git add -f <name> 强制添加被.gitignore 忽略不能添加的文件
- git check-ignore -v <name> 查看文件被忽略的原因

### 别名定义

- git config —global alias.st status 配置查看仓库状态的别名
- git config --global alias.lg "log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit"
